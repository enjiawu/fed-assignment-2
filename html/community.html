<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Recycling | Community</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anonymous+Pro:ital,wght@0,400;0,700;1,400;1,700&family=B612+Mono:ital,wght@0,400;0,700;1,400;1,700&family=B612:ital,wght@0,400;0,700;1,400;1,700&family=Bangers&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/community.css">
</head>
<body>
    <main id = "community-container">
      <section id = "community-title">
        <h1>Welcome to the Community!</h1>
        <p>Join or post any environmental events now!</p>
      </section>

      <p id = "divider"></p>

      <section id = "community-header">
          <button id="add-post-button" class="post-button btn btn-outline-secondary" type="button">Add new post</button>
          
          <div id="add-post-msg">
            <div class="alert alert-success" role="alert">
              Post has been successfully added!
            </div>
          </div>
          <div id = "add-post-container" class = "flex-column">
            <div id = "add-new-post-header" class = "d-flex flex-row">
              <h3>Add new post</h3>
              <button type="button" id="close-add-new-post" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <form id = "add-new-post-form">
              <div class="form-group">
                <textarea class="form-control" id="post-title" rows="1" maxlength="50" placeholder="Enter title here" required></textarea>
              </div>
              <div class="form-group">
                <textarea class="form-control" id="post-organisation" rows="1" maxlength="50" placeholder="Enter organisation name" required></textarea>
              </div>
              <div class="form-group">
                <textarea class="form-control" id="post-description" rows="8" placeholder="Enter description here" minlength ="50" maxlength="500" required></textarea>
              </div>
              <div class="form-group">
                <input type="text" class="form-control" id="post-location" maxlength="50" placeholder="Enter location here" required>
              </div>
              <div class="form-group">
                <input type="email" class="form-control" id="post-contact" maxlength="50" placeholder="Enter email to contact here" required>
              </div>
              <div class = "post-dates d-flex flex-row">
                <div class="start-date form-group d-flex flex-column">
                  <label for="post-start-date">Start date</label>
                  <input type="date" id="post-start-date" name="post-start-date" required>
                </div>
                <div class="end-date form-group d-flex flex-column">
                  <label for="post-end-date">End date</label>
                  <input type="date" id="post-end-date" name="post-end-date" required>
                </div>
              </div>
              <div class="join-now-link form-group">
                  <input type="url" id="join-now-link" name="join-now-link" placeholder = "Join now link" required>
              </div>
              <button id="submit-post" class="post-button btn btn-outline-secondary" type="submit">Post</button>
            </form>
          </div>           
        </section>  

        <section id = "post-container"></section>

        <div id="update-msg">
          <div class="alert alert-success" role="alert">
            Post has been updated!
          </div>
        </div>
        <div class = "contianer" id = "update-post-container">
          <div id = "update-post-header" class = "d-flex flex-row">
            <h3>Update post</h3>
            <button type="button" id="close-update-post" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

          <form id = "update-post">
            <div class="form-group">
              <textarea class="form-control" id="update-post-title" rows="1" maxlength="50" placeholder="Enter title here" required></textarea>
            </div>
            <div class="form-group">
              <textarea class="form-control" id="update-post-organisation" rows="1" maxlength="50" placeholder="Enter title here" required></textarea>
            </div>
            <div class="form-group">
              <textarea class="form-control" id="update-post-description" rows="8" placeholder="Enter description here" minlength ="50" maxlength="500" required></textarea>
            </div>
            <div class="form-group">
              <input type="text" class="form-control" id="update-post-location" maxlength="50" placeholder="Enter location here" required>
            </div>
            <div class="form-group">
              <input type="email" class="form-control" id="update-post-contact" maxlength="50" placeholder="Enter email to contact here" required>
            </div>
            <div class = "post-dates d-flex flex-row">
              <div class="start-date form-group d-flex flex-column">
                <label for="update-post-start-date">Start date</label>
                <input type="date" id="update-post-start-date" name="update-post-start-date" required>
              </div>
              <div class="end-date form-group d-flex flex-column">
                <label for="end-date">End date</label>
                <input type="date" id="update-post-end-date" name="update-post-end-date" required>
              </div>
            </div>
            <div class="join-now-link form-group">
                <input type="url" id="update-join-now-link" name="join-now-link" placeholder = "Join now link" required>
            </div>
            <input type="hidden" id="update-post-id">

            <button id="update-post-button" class="post-button btn btn-outline-secondary" type="submit">Update</button>
          </form>
        </div>

        <div id="delete-msg">
          <div class="alert alert-danger" role="alert">
            Post has been deleted!
          </div>
        </div>
    </main>

    <section id = "loading-screen">
      <dotlottie-player src="https://lottie.host/b741b781-85ba-44a4-ab61-fa92685bc34d/hogrlivgr9.json" background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player>
    </section>

    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script> 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="../js/community.js"></script>
</body>
</html>